<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>14种算法模式</title>
      <link href="/posts/f6a1fd2d.html"/>
      <url>/posts/f6a1fd2d.html</url>
      
        <content type="html"><![CDATA[<h2 id="14种算法模式"><a href="#14种算法模式" class="headerlink" title="14种算法模式"></a>14种算法模式</h2><p>转载自 <a href="https://mp.weixin.qq.com/s?__biz=MzI5MDUyMDIxNA==&amp;mid=2247561682&amp;idx=4&amp;sn=7088708c9cc15abecaceb8ef0812b563&amp;chksm=ec1d1c2bdb6a953d4485b29030d08368afe93c4e6c4f1366939b71427847e8c6cb2317fc2e3b&amp;mpshare=1&amp;scene=23&amp;srcid=0410SyZVECD4GjoOcQKr4P6e&amp;sharer_sharetime=1681126194635&amp;sharer_shareid=a34b1781fd870ee933b2fc38dee41cf9#rd">极市平台</a></p><h3 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h3><p>滑动窗口模式是用于在给定数组或链表的特定窗口大小上执行所需的操作，比如寻找包含所有 1 的最长子数组。</p><p>从第一个元素开始滑动窗口并逐个元素地向右滑，并根据你所求解的问题调整窗口的长度。</p><p>在某些情况下窗口大小会保持恒定，在其它情况下窗口大小会增大或减小。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm01.png" alt="滑动窗口" style="zoom:70%;"></p><p>下面是一些你可以用来确定给定问题可能需要滑动窗口的方法：</p><ul><li>问题的输入是一种线性数据结构，比如链表、数组或字符串</li><li>你被要求查找最长/最短的子字符串、子数组或所需的值</li></ul><p>你可以使用滑动窗口模式处理的常见问题：</p><ul><li>大小为 K  的子数组的最大和（简单）</li><li>带有 K 个不同字符的最长子字符串（中等）</li><li>寻找字符相同但排序不一样的字符串（困难）</li></ul><h3 id="二指针或迭代器"><a href="#二指针或迭代器" class="headerlink" title="二指针或迭代器"></a>二指针或迭代器</h3><p>二指针（Two Pointers）是这样一种模式：</p><p>两个指针以一前一后的模式在数据结构中迭代，直到一个或两个指针达到某种特定条件。</p><p>二指针通常在排序数组或链表中搜索配对时很有用：比如当你必须将一个数组的每个元素与其它元素做比较时。</p><p>二指针是很有用的，因为如果只有一个指针，你必须继续在数组中循环回来才能找到答案。</p><p>这种使用单个迭代器进行来回在时间和空间复杂度上都很低效——这个概念被称为「渐进分析（asymptotic analysis）」。</p><p>尽管使用 1 个指针进行暴力搜索或简单普通的解决方案也有效果，但这会沿 O(n²) 线得到一些东西。在很多情况中，二指针有助于你寻找有更好空间或运行时间复杂度的解决方案。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm02.png" alt="双指针" style="zoom:60%;"></p><p>用于识别使用二指针的时机的方法：</p><ul><li>可用于你要处理排序数组（或链接列表）并需要查找满足某些约束的一组元素的问题</li><li>数组中的元素集是配对、三元组甚至子数组</li></ul><p>下面是一些满足二指针模式的问题：</p><ul><li>求一个排序数组的平方（简单）</li><li>求总和为零的三元组（中等）</li><li>比较包含回退（backspace）的字符串（中等）</li></ul><h3 id="快速和慢速指针"><a href="#快速和慢速指针" class="headerlink" title="快速和慢速指针"></a>快速和慢速指针</h3><p>快速和慢速指针方法也被称为 Hare &amp; Tortoise 算法，该算法会使用两个在数组（或序列/链表）中以不同速度移动的指针。该方法在处理循环链表或数组时非常有用。</p><p>通过以不同的速度进行移动（比如在一个循环链表中），该算法证明这两个指针注定会相遇。只要这两个指针在同一个循环中，快速指针就会追赶上慢速指针。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm03.png" alt="快慢指针" style="zoom:60%;"></p><p>如何判别使用快速和慢速模式的时机？</p><ul><li>处理链表或数组中的循环的问题</li><li>当你需要知道特定元素的位置或链表的总长度时</li></ul><p>何时应该优先选择这种方法，而不是上面提到的二指针方法？</p><ul><li>有些情况不适合使用二指针方法，比如在不能反向移动的单链接链表中。使用快速和慢速模式的一个案例是当你想要确定一个链表是否为回文（palindrome）时。</li></ul><p>下面是一些满足快速和慢速指针模式的问题：</p><ul><li>链表循环（简单）</li><li>回文链表（中等）</li><li>环形数组中的循环（困难）</li></ul><h3 id="合并区间"><a href="#合并区间" class="headerlink" title="合并区间"></a>合并区间</h3><p>合并区间模式是一种处理重叠区间的有效技术。</p><p>在很多涉及区间的问题中，你既需要找到重叠的区间，也需要在这些区间重叠时合并它们。该模式的工作方式为：</p><p>给定两个区间（a 和 b），这两个区间有 6 种不同的互相关联的方式：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm04.png" alt="合并区间" style="zoom:80%;"></p><p>理解并识别这六种情况有助于你求解范围广泛的问题，从插入区间到优化区间合并等。</p><p>那么如何确定何时该使用合并区间模式呢？</p><ul><li>如果你被要求得到一个仅含互斥区间的列表</li><li>如果你听到了术语「重叠区间（overlapping     intervals）」</li></ul><p>合并区间模式的问题：</p><ul><li>区间交叉（中等）</li><li>最大 CPU 负载（困难）</li></ul><h3 id="循环排序"><a href="#循环排序" class="headerlink" title="循环排序"></a>循环排序</h3><p>这一模式描述了一种有趣的方法，处理的是涉及包含给定范围内数值的数组的问题。</p><p>循环排序模式一次会在数组上迭代一个数值，如果所迭代的当前数值不在正确的索引处，就将其与其正确索引处的数值交换。</p><p>你可以尝试替换其正确索引处的数值，但这会带来 O(n^2) 的复杂度，这不是最优的，因此要用循环排序模式。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm05.png" alt="循环排序" style="zoom:100%;"></p><p>如何识别这种模式？</p><ul><li>涉及数值在给定范围内的排序数组的问题</li><li>如果问题要求你在一个排序/旋转的数组中找到缺失值/重复值/最小值</li></ul><p>循环排序模式的问题：</p><ul><li>找到缺失值（简单）</li><li>找到最小的缺失的正数值（中等）</li></ul><h3 id="原地反转链表"><a href="#原地反转链表" class="headerlink" title="原地反转链表"></a>原地反转链表</h3><p>在很多问题中，你可能会被要求反转一个链表中一组节点之间的链接。</p><p>通常而言，你需要原地完成这一任务，即使用已有的节点对象且不占用额外的内存。这就是这个模式的用武之地。</p><p>该模式会从一个指向链表头的变量（current）开始一次反转一个节点，然后一个变量（previous）将指向已经处理过的前一个节点。</p><p>以锁步的方式，在移动到下一个节点之前将其指向前一个节点，可实现对当前节点的反转。</p><p>另外，也将更新变量「previous」，使其总是指向已经处理过的前一个节点。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm06.png" alt="反转链表" style="zoom:100%;"></p><p>如何识别使用该模式的时机：</p><ul><li>如果你被要求在不使用额外内存的前提下反转一个链表</li></ul><p>原地反转链表模式的问题：</p><ul><li><p>反转一个子列表（中等）</p></li><li><p>反转每个 K     个元素的子列表（中等）</p></li></ul><h3 id="树的宽度优先搜索（Tree-BFS）"><a href="#树的宽度优先搜索（Tree-BFS）" class="headerlink" title="树的宽度优先搜索（Tree BFS）"></a>树的宽度优先搜索（Tree BFS）</h3><p>该模式基于宽度优先搜索（BFS）技术，可遍历一个树并使用一个队列来跟踪一个层级的所有节点，之后再跳转到下一个层级。</p><p>任何涉及到以逐层级方式遍历树的问题都可以使用这种方法有效解决。</p><p>Tree BFS 模式的工作方式是：将根节点推至队列，然后连续迭代知道队列为空。在每次迭代中，我们移除队列头部的节点并「访问」该节点。在移除了队列中的每个节点之后，我们还将其所有子节点插入到队列中。</p><p>如何识别 Tree BFS 模式：</p><ul><li>如果你被要求以逐层级方式遍历（或按层级顺序遍历）一个树</li></ul><p>Tree BFS 模式的问题：</p><ul><li>二叉树层级顺序遍历（简单）</li><li>之字型遍历（Zigzag     Traversal）（中等）</li></ul><h3 id="树的深度优先搜索（Tree-DFS）"><a href="#树的深度优先搜索（Tree-DFS）" class="headerlink" title="树的深度优先搜索（Tree DFS）"></a>树的深度优先搜索（Tree DFS）</h3><p>Tree DFS 是基于深度优先搜索（DFS）技术来遍历树。</p><p>你可以使用递归（或该迭代方法的技术栈）来在遍历期间保持对所有之前的（父）节点的跟踪。</p><p>Tree DFS 模式的工作方式是从树的根部开始，如果这个节点不是一个叶节点，则需要做两件事：</p><ul><li>决定现在是处理当前的节点（pre-order），或是在处理两个子节点之间（in-order），还是在处理两个子节点之后（post-order）</li><li>为当前节点的两个子节点执行两次递归调用以处理它们</li></ul><p>如何识别 Tree DFS 模式：</p><ul><li>如果你被要求用     in-order、pre-order 或 post-order DFS 来遍历一个树</li><li>如果问题需要搜索其中节点更接近叶节点的东西</li></ul><p>Tree DFS 模式的问题：</p><ul><li><p>路径数量之和（中等）</p></li><li><p>一个和的所有路径（中等）</p></li></ul><h3 id="Two-Heaps"><a href="#Two-Heaps" class="headerlink" title="Two Heaps"></a>Two Heaps</h3><p>在很多问题中，我们要将给定的一组元素分为两部分。</p><p>为了求解这个问题，我们感兴趣的是了解一部分的最小元素以及另一部分的最大元素。这一模式是求解这类问题的一种有效方法。</p><p>该模式要使用两个堆（heap）：一个用于寻找最小元素的 Min Heap 和一个用于寻找最大元素的 Max Heap。</p><p>该模式的工作方式是：</p><p>先将前一半的数值存储到 Max Heap，这是由于你要寻找前一半中的最大数值。然后再将另一半存储到 Min Heap，因为你要寻找第二半的最小数值。在任何时候，当前数值列表的中间值都可以根据这两个 heap 的顶部元素计算得到。</p><p>识别 Two Heaps 模式的方法：</p><ul><li>在优先级队列、调度等场景中有用</li><li>如果问题说你需要找到一个集合的最小/最大/中间元素</li><li>有时候可用于具有二叉树数据结构的问题</li></ul><p>Two Heaps 模式的问题：</p><ul><li>查找一个数值流的中间值（中等）</li></ul><h3 id="子集"><a href="#子集" class="headerlink" title="子集"></a>子集</h3><p>很多编程面试问题都涉及到处理给定元素集合的排列和组合。</p><p>子集（Subsets）模式描述了一种用于有效处理所有这些问题的宽度优先搜索（BFS）方法。</p><p>该模式看起来是这样：</p><p>给定一个集合 [1, 5, 3]</p><ul><li>从一个空集开始：[[]]</li><li>向所有已有子集添加第一个数     (1)，从而创造新的子集：[[], [1]]</li><li>向所有已有子集添加第二个数     (5)：[[], [1], [5], [1,5]]</li><li>向所有已有子集添加第三个数     (3)：[[], [1], [5], [1,5], [3], [1,3], [5,3], [1,5,3]]</li></ul><p>下面是这种子集模式的一种视觉表示：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm07.png" alt="子集" style="zoom:80%;"></p><p>如何识别子集模式：</p><ul><li>你需要找到给定集合的组合或排列的问题</li></ul><p>子集模式的问题：</p><ul><li>带有重复项的子集（简单）</li><li>通过改变大小写的字符串排列（中等）</li></ul><h3 id="经过修改的二叉搜索"><a href="#经过修改的二叉搜索" class="headerlink" title="经过修改的二叉搜索"></a>经过修改的二叉搜索</h3><p>只要给定了排序数组、链表或矩阵，并要求寻找一个特定元素，你可以使用的最佳算法就是二叉搜索。</p><p>这一模式描述了一种用于处理所有涉及二叉搜索的问题的有效方法。</p><p>对于一个升序的集合，该模式看起来是这样的：</p><ul><li>首先，找到起点和终点的中间位置。<pre><code>      寻找中间位置的一种简单方法是：middle = (start + end) / 2。      但这很有可能造成整数溢出，所以推荐你这样表示中间位置：middle = start + (end-start) / 2。</code></pre></li><li>如果键值（key）等于中间索引处的值，那么返回这个中间位置。</li><li>如果键值不等于中间索引处的值：</li><li>检查 key &lt;  arr[middle] 是否成立。如果成立，将搜索约简到 end = middle - 1</li><li>检查 key &gt; arr[middle]     是否成立。如果成立，将搜索约简到 end = middle + 1</li></ul><p>下面给出了这种经过修改的二叉搜索模式的视觉表示：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm08.png" alt="变态二叉搜索树" style="zoom:80%;"></p><p>经过修改的二叉搜索模式的问题：</p><ul><li>与顺序无关的二叉搜索（简单）</li><li>在经过排序的无限数组中搜索（中等）</li></ul><h3 id="前-K-个元素"><a href="#前-K-个元素" class="headerlink" title="前 K 个元素"></a>前 K 个元素</h3><p>任何要求我们找到一个给定集合中前面的/最小的/最常出现的 K 的元素的问题都在这一模式的范围内。</p><p>跟踪 K 个元素的最佳的数据结构是 Heap。</p><p>这一模式会使用 Heap 来求解多个一次性处理一个给定元素集中 K 个元素的问题。</p><p>该模式是这样工作的：</p><ul><li>根据问题的不同，将 K     个元素插入到 min-heap 或 max-heap 中</li><li>迭代处理剩余的数，如果你找到一个比     heap 中数更大的数，那么就移除那个数并插入这个更大的数</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm09.png" alt="top-K" style="zoom:80%;"></p><p>这里无需排序算法，因为 heap 将为你跟踪这些元素。</p><p>如何识别前 K 个元素模式：</p><ul><li>如果你被要求寻找一个给定集合中前面的/最小的/最常出现的     K 的元素</li><li>如果你被要求对一个数值进行排序以找到一个确定元素</li></ul><p>前 K 个元素模式的问题：</p><ul><li>前面的 K 个数（简单）</li><li>最常出现的 K     个数（中等）</li></ul><h3 id="K-路合并"><a href="#K-路合并" class="headerlink" title="K 路合并"></a>K 路合并</h3><p>K 路合并能帮助你求解涉及一组经过排序的数组的问题。</p><p>当你被给出了 K 个经过排序的数组时，你可以使用 Heap 来有效地执行所有数组的所有元素的排序遍历。你可以将每个数组的最小元素推送至 Min Heap 以获得整体最小值。</p><p>在获得了整体最小值后，将来自同一个数组的下一个元素推送至 heap。</p><p>然后，重复这一过程以得到所有元素的排序遍历结果。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm10.png" alt="K 路合并" style="zoom:80%;"></p><p>该模式看起来像这样：</p><ul><li>将每个数组的第一个元素插入  Min Heap</li><li>之后，从该 Heap 取出最小（顶部的）元素，将其加入到合并的列表。</li><li>在从 Heap     移除了最小的元素之后，将同一列表的下一个元素插入该 Heap</li><li>重复步骤 2 和  3，以排序的顺序填充合并的列表</li></ul><p>如何识别 K 路合并模式：</p><ul><li>具有排序数组、列表或矩阵的问题</li><li>如果问题要求你合并排序的列表，找到一个排序列表中的最小元素</li></ul><p>K 路合并模式的问题：</p><ul><li>合并 K  个排序的列表（中等）</li><li>找到和最大的 K 个配对（困难）</li></ul><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><p>拓扑排序可用于寻找互相依赖的元素的线性顺序。</p><p>比如，如果事件 B 依赖于事件 A，那么 A 在拓扑排序时位于 B 之前。</p><p>这个模式定义了一种简单方法来理解执行一组元素的拓扑排序的技术。</p><p>该模式看起来是这样的：</p><ol><li>初始化。<pre><code>     a）使用 HashMap 将图（graph）存储到邻接的列表中；     b）为了查找所有源，使用 HashMap 记录 in-degree 的数量</code></pre></li><li>构建图并找到所有顶点的     in-degree。<pre><code>        a）根据输入构建图并填充 in-degree HashMap</code></pre></li><li>寻找所有的源。<pre><code>        a）所有 in-degree 为 0 的顶点都是源，并会被存入一个队列</code></pre></li><li>排序。<pre><code>        a）对于每个源，执行以下操作：            &amp;emsp;i）将其加入到排序的列表；            &amp;emsp;ii）根据图获取其所有子节点；            &amp;emsp;iii）将每个子节点的 in-degree 减少 1；            &amp;emsp;iv）如果一个子节点的 in-degree 变为 0，将其加入到源队列。        b）重复 (a)，直到源队列为空。</code></pre></li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm11.png" alt="拓扑排序" style="zoom:80%;"></p><p>如何识别拓扑排序模式：</p><ul><li>处理无向有环图的问题</li><li>如果你被要求以排序顺序更新所有对象</li><li>如果你有一类遵循特定顺序的对象</li></ul><h2 id="自己刷题的一点总结"><a href="#自己刷题的一点总结" class="headerlink" title="自己刷题的一点总结"></a>自己刷题的一点总结</h2><h3 id="单调队列"><a href="#单调队列" class="headerlink" title="单调队列"></a>单调队列</h3><p>作用：求每个固定长度区间最值。</p><p>顾名思义,单调队列即是一个单调的队列.</p><p>给定数列：{3, 1, 5, 7, 4, 2, 1}，现在要维护 区间长度为 3 的最大值。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/algorithm12.png" alt="单调队列"></p><p>实现单调队列，主要分为三个部分：</p><ol><li>去尾操作 ：队尾元素出队列。当队列有新元素待入队，需要从队尾开始，删除影响队列单调性的元素，维护队列的单调性。(删除一个队尾元素后，就重新判断新的队尾元素) 去尾操作结束后，将该新元素入队列。</li><li>删头操作     ：队头元素出队列。判断队头元素是否在待求解的区间之内，如果不在，就将其删除。（这个很好理解呀，因为单调队列的队头元素就是待求解区间的极值）</li><li>取解操作 ：经过上面两个操作，取出     队列的头元素 ，就是 当前区间的极值</li></ol><h3 id="单调栈"><a href="#单调栈" class="headerlink" title="单调栈"></a>单调栈</h3><p>单调栈用途不太广泛，只处理一种典型的问题，叫做 Next Greater Element。</p><p>如何维护单调栈：</p><p>  以维护一个单调递增栈为例。当插入一个新元素时，为了维护栈内的单调性，我们将该元素与栈顶元素进行比较，若不满足单调性，就将栈顶元素弹出，不断重复，直到栈空或者满足单调性为止，最后再将该元素塞入栈顶。</p><h3 id="二分搜索"><a href="#二分搜索" class="headerlink" title="二分搜索"></a>二分搜索</h3><mark class="hl-label default">什么问题可以运用二分搜索算法技巧？</mark> <p>  首先，你要从题目中抽象出一个自变量 x，一个关于 x 的函数 f(x)，以及一个目标值 target。</p><p>  同时，x, f(x), target 还要满足以下条件：</p><ul><li><p>f(x) 必须是在 x 上的单调函数（单调增单调减都可以）。</p></li><li><p>题目是让你计算满足约束条件 f(x) == target 时的 x 的值。</p></li></ul><h3 id="BFS和DFS"><a href="#BFS和DFS" class="headerlink" title="BFS和DFS"></a>BFS和DFS</h3><h4 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h4><ul><li><strong>找距离某一点的最短路，但路径不唯一，最先搜索到满足条件的就是最短的路径</strong></li><li><strong>大范围的查找</strong></li><li><strong>出现<mark class="hl-label red">最短</mark> 、<mark class="hl-label red">最少</mark> 类似字眼的可以优先考虑</strong></li></ul><h4 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h4><ul><li><p><strong>目的性强的查找与搜索问题，白话就是：<mark class="hl-label red">能找出解就行</mark> </strong></p></li><li><p><strong>是否可达问题</strong></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java并发基本知识的简单介绍（一）</title>
      <link href="/posts/fb7d02da.html"/>
      <url>/posts/fb7d02da.html</url>
      
        <content type="html"><![CDATA[<h2 id="创建JAVA线程的方法"><a href="#创建JAVA线程的方法" class="headerlink" title="创建JAVA线程的方法"></a>创建JAVA线程的方法</h2><p><strong>java创建线程的方式三种：</strong></p><div class="tabs" id="方式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#方式-1">方式 1</button></li><li class="tab"><button type="button" data-href="#方式-2">方式 2</button></li><li class="tab"><button type="button" data-href="#方式-3">方式 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="方式-1"><p>直接使用Thread</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t1&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            log.debug(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t1.start();</span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="方式-2"><p>使用Runnable配合Thread</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            log.debug(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable, <span class="string">&quot;t2&quot;</span>);</span><br><span class="line">    t2.start();</span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用Runnable配合Thread lambda表达式写法</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> ()-&gt;&#123; log.debug(<span class="string">&quot;running&quot;</span>); &#125;;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable, <span class="string">&quot;t2&quot;</span>);</span><br><span class="line">    t2.start();</span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="方式-3"><p>FutureTask配合Thread</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">    FutureTask&lt;Integer&gt; task = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            log.debug(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task, <span class="string">&quot;t3&quot;</span>);</span><br><span class="line">    t3.start();</span><br><span class="line">    log.info(<span class="string">&quot;running &#123;&#125;&quot;</span>, task.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>原理之 Thread 与 Runnable 的关系</strong></p><p>分析 Thread 的源码，理清它与 Runnable 的关系，都会调用如下代码</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (target != <span class="literal">null</span>) &#123;</span><br><span class="line">        target.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><ul><li>方法1 是把线程和任务合并在了一起，方法2 是把线程和任务分开了</li><li>用 Runnable 更容易与线程池等高级 API 配合</li><li>用 Runnable 让任务类脱离了 Thread     继承体系，更灵活</li></ul><div class="note green no-icon flat"><p><strong>调用run和start区别</strong></p><ul><li>直接调用 run 是在主线程中执行了 run，没有启动新的线程</li><li>使用 start 是启动新的线程，通过新的线程间接执行 run 中的代码</li></ul></div><h2 id="JAVA线程中常用API"><a href="#JAVA线程中常用API" class="headerlink" title="JAVA线程中常用API"></a>JAVA线程中常用API</h2><h3 id="sleep-与-yield"><a href="#sleep-与-yield" class="headerlink" title="sleep 与 yield"></a>sleep 与 yield</h3><p><strong>sleep</strong></p><ol><li><p>调用 sleep 会让当前线程从 Running 进入 Timed Waiting 状态（阻塞）</p></li><li><p>其它线程可以使用 interrupt 方法打断正在睡眠的线程，这时 sleep 方法会抛出 InterruptedException</p></li><li><p>睡眠结束后的线程未必会立刻得到执行</p></li><li><p>建议用 TimeUnit 的 sleep 代替 Thread 的 sleep 来获得更好的可读性</p></li></ol><p><strong>yield</strong></p><ol><li><p>调用 yield 会让当前线程从 Running 进入 Runnable 就绪状态，然后调度执行其它线程</p></li><li><p>具体的实现依赖于操作系统的任务调度器</p></li></ol><p><strong>线程优先级</strong></p><ul><li>线程优先级会提示（hint）调度器优先调度该线程，但它仅仅是一个提示，调度器可以忽略它</li><li>如果 cpu 比较忙，那么优先级高的线程会获得更多的时间片，但 cpu 闲时，优先级几乎没作用</li></ul><p><strong>sleep与yield具体代码如下</strong></p><div class="tabs" id="test5"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test5-1">sleep</button></li><li class="tab"><button type="button" data-href="#test5-2">yield</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test5-1"><p>查看sleep线程的状态</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            log.debug(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line">    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">    log.info(<span class="string">&quot;running &quot;</span> + t.getState());</span><br><span class="line">    t.join(); <span class="comment">// main 等待 t 运行完成再结束</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如何唤醒sleep线程</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                log.debug(<span class="string">&quot;running&quot;</span>);          <span class="comment">// 打断会抛出异常</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    t.interrupt(); <span class="comment">// 唤醒 t 会抛出异常</span></span><br><span class="line">    log.info(<span class="string">&quot;running &quot;</span> + t.getState());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test5-2"><p>yield函数与线程优先级的设置</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">                <span class="comment">// 让出CPU，该线程处于就绪状态，但是下次可能还是这个线程运行</span></span><br><span class="line">                <span class="comment">// Thread.yield();</span></span><br><span class="line">                System.out.println(<span class="string">&quot;111count=&quot;</span>+(++count));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;222count=&quot;</span>+(++count));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置优先级</span></span><br><span class="line">    t1.setPriority(Thread.MAX_PRIORITY);</span><br><span class="line">    t2.setPriority(Thread.MIN_PRIORITY);</span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">    log.info(<span class="string">&quot;running &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="sleep"><a href="#sleep" class="headerlink" title="sleep"></a>sleep</h4><p>在没有利用cpu来计算时，不要让while(true)空转浪费cpu,这时可以使用yield或sleep来让出cpu的使用权给其他程序</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread. s1eep(<span class="number">50</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e. printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>= 可以用wait或条件变量达到类似的效果</p><div class="note green no-icon flat"><ul><li><p>不同的是，后两种都需要加锁，并且需要相应的唤醒操作，一般适用于要进行同步的场景</p></li><li><p>sleep 适用于无需锁同步的场景</p></li></ul></div><h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p><strong>作用：</strong> 等待线程运行结束。</p><p>下面的程序运行时间约？<span class="hide-inline"><button type="button" class="hide-button" style="background-color:  #FF7242;color:  #fff"> 查看答案  </button><span class="hide-content">2s</span></span></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            log.debug(<span class="string">&quot;running &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            log.debug(<span class="string">&quot;running &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line"></span><br><span class="line">    t2.join();</span><br><span class="line">    t1.join();</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    log.info(<span class="string">&quot;running &#123;&#125;&quot;</span>, end - start);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="interrupt-方法详解"><a href="#interrupt-方法详解" class="headerlink" title="interrupt 方法详解"></a>interrupt 方法详解</h3><p><strong>打断 sleep，wait，join 的线程</strong></p><p>这几个方法都会让线程进入阻塞状态，打断 sleep，wait，join 的线程, 会清空打断状态。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                log.debug(<span class="string">&quot;running&quot;</span>);          <span class="comment">// 打断会抛出异常</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line">    </span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    </span><br><span class="line">    t.interrupt(); <span class="comment">// 唤醒 t 会抛出异常</span></span><br><span class="line">    </span><br><span class="line">    log.info(<span class="string">&quot;running &quot;</span> + t.isInterrupted());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>打断正常运行的线程</strong></p><p>打断正常运行的线程, 不会清空打断状态</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> currentThread().isInterrupted();</span><br><span class="line">                <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                    log.debug(<span class="string">&quot;over&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    t.interrupt(); <span class="comment">// 唤醒 t 不会抛异常</span></span><br><span class="line"></span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>打断 park 线程</strong></p><p>打断 park 线程, 不会清空打断状态</p><p>如果打断标记已经是 true, 则 park 会失效</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            log.debug(<span class="string">&quot;running1&quot;</span>);</span><br><span class="line">            LockSupport.park();</span><br><span class="line">            log.debug(<span class="string">&quot;打断状态：&#123;&#125;&quot;</span>, Thread.currentThread().isInterrupted());</span><br><span class="line">            <span class="comment">// log.debug(&quot;打断状态：&#123;&#125;&quot;, Thread.currentThread().interrupted());</span></span><br><span class="line">            log.debug(<span class="string">&quot;running2&quot;</span>);</span><br><span class="line">            LockSupport.park();  <span class="comment">// 如果打断标记已经是 true, 则 park 会失效, 不会停止在这</span></span><br><span class="line">            log.debug(<span class="string">&quot;running3&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line">    Thread.sleep(<span class="number">200</span>);</span><br><span class="line">    t.interrupt();</span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note green no-icon flat"><p><strong>isInterrupted()与interrupted()区别</strong></p><p>isInterrupted() 判断是否被打断，<font color="red"> 不会清除打断标记 </font></p><p>interrupted() 判断当前线程是否被打断，<font color="red">会清除打断标记 </font></p></div><h3 id="两阶段终止模式-Two-Phase-Termination"><a href="#两阶段终止模式-Two-Phase-Termination" class="headerlink" title="两阶段终止模式 (Two Phase Termination)"></a>两阶段终止模式 (Two Phase Termination)</h3><p><strong>要问题：</strong> 在一个线程T1中如何“优雅“终止线程T2？这里的[优雅]指的是给T2一个料理后事的机会。</p><p><strong>引用：</strong> 后台监控</p><h4 id="错误思路"><a href="#错误思路" class="headerlink" title="错误思路"></a>错误思路</h4><p>■使用线程对象的stop(方法停止线程</p><p>&emsp;stop 方法会真正杀死线程，如果这时线程锁住了共享资源，那么当它被杀死后就再也没有机会释放锁，其它线程将永远无法获取锁</p><p>■使用System.exit(int)方法停止线程</p><p>&emsp;目的仅是停止一个线程，但这种做法会让整个程序都停止</p><h4 id="正确思路"><a href="#正确思路" class="headerlink" title="正确思路"></a>正确思路</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/two-phase.png" alt="两阶段终止模式" width="80%"></p><p>实现代码：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j(topic = &quot;c.TPT&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TwoPhaseTermination</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Thread monitor;</span><br><span class="line">    <span class="comment">// 启动监控程序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        monitor = <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;tpt1&quot;</span>)&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> Thread.currentThread().isInterrupted();</span><br><span class="line">                    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                        log.debug(<span class="string">&quot;over&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">2000</span>); <span class="comment">// 情况1：在该程序睡眠过程中打断，flag==false，抛出异常，需要处理异常</span></span><br><span class="line">                        log.info(<span class="string">&quot;执行监控记录&quot;</span>);   <span class="comment">// 情况2：在该程序执行过程中打断，flag==true</span></span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                        <span class="comment">// 情况1：重新设置打断标志，使flag==true</span></span><br><span class="line">                        Thread.currentThread().interrupt();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        monitor.start();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 停止监控程序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        monitor.interrupt();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="主线程与守护线程"><a href="#主线程与守护线程" class="headerlink" title="主线程与守护线程"></a>主线程与守护线程</h3><p>默认情况下，Java 进程需要等待所有线程都运行结束，才会结束。有一种特殊的线程叫做守护线程，只要其它非守护线程运行结束了，即使守护线程的代码没有执行完，也会强制结束。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> currentThread().isInterrupted();</span><br><span class="line">                <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                    log.debug(<span class="string">&quot;over&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 设置该线程为守护线程</span></span><br><span class="line">    t.setDaemon(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    t.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    log.info(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note green no-icon flat"><p><strong>注意</strong></p><p>垃圾回收器线程就是一种守护线程</p><p>Tomcat 中的 Acceptor 和 Poller 线程都是守护线程，所以 Tomcat 接收到 shutdown 命令后，不会等待它们处理完当前请求</p></div><h2 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h2><p><strong><font color="red"> 五种状态</font> 这是从 <font color="red"> 操作系统</font> 层面来描述的</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/system-status.png" alt="操作系统层面描述的五种状态" width="80%"></p><ul><li><p>【初始状态】仅是在语言层面创建了线程对象，还未与操作系统线程关联</p></li><li><p>【可运行状态】（就绪状态）指该线程已经被创建（与操作系统线程关联），可以由     CPU 调度执行</p></li><li><p>【运行状态】指获取了 CPU 时间片运行中的状态</p></li><li><ul><li>当 CPU      时间片用完，会从【运行状态】转换至【可运行状态】，会导致线程的上下文切换</li></ul></li><li><p>【阻塞状态】</p></li><li><ul><li>如果调用了阻塞 API，如 BIO 读写文件，这时该线程实际不会用到 CPU，会导致线程上下文切换，进入【阻塞状态】</li><li>等 BIO 操作完毕，会由操作系统唤醒阻塞的线程，转换至【可运行状态】</li><li>与【可运行状态】的区别是，对【阻塞状态】的线程来说只要它们一直不唤醒，调度器就一直不会考虑调度它们</li></ul></li><li><p>【终止状态】表示线程已经执行完毕，生命周期已经结束，不会再转换为其它状态</p></li></ul><p><strong><font color="red"> 六种状态</font> 这是从 <font color="red"> Java API 层面</font> 层面来描述的</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/java-status.png" alt="Java API层面描述的六种状态" width="80%"></p><ul><li>NEW 线程刚被创建，但是还没有调用 start() 方法</li><li>RUNNABLE 当调用了 start()     方法之后，注意，Java API 层面的 RUNNABLE 状态涵盖了 操作系统 层面的【可运行状态】、【运行状态】和【阻塞状态】（由于 BIO     导致的线程阻塞，在 Java 里无法区分，仍然认为是可运行）</li><li>BLOCKED ， WAITING ，     TIMED_WAITING 都是 Java API 层面对【阻塞状态】的细分，后面会在状态转换一节详述</li><li>TERMINATED 当线程代码运行结束</li></ul><p>JAVA API六种状态展示：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t1&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">// log.debug(&quot;t1 running&quot;);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t2&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">// log.debug(&quot;t1 running&quot;);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t2.start();</span><br><span class="line"></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t3&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t3.start();</span><br><span class="line"></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t4&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MyThread3.class) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t4.start();</span><br><span class="line"></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t5&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MyThread3.class) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t5.start();</span><br><span class="line"></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t6&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                t3.join();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t6.start();</span><br><span class="line"></span><br><span class="line">    Thread.sleep(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    log.info(<span class="string">&quot;t1 status: &quot;</span> + t1.getState()); <span class="comment">// NEW</span></span><br><span class="line">    log.info(<span class="string">&quot;t2 status: &quot;</span> + t2.getState()); <span class="comment">// TERMINATED</span></span><br><span class="line">    log.info(<span class="string">&quot;t3 status: &quot;</span> + t3.getState()); <span class="comment">// RUNNABLE</span></span><br><span class="line">    log.info(<span class="string">&quot;t4 status: &quot;</span> + t4.getState()); <span class="comment">// TIMED_WAITING</span></span><br><span class="line">    log.info(<span class="string">&quot;t5 status: &quot;</span> + t5.getState()); <span class="comment">// BLOCKED</span></span><br><span class="line">    log.info(<span class="string">&quot;t6 status: &quot;</span> + t6.getState()); <span class="comment">// WAITING</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JUC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一些有用的网站</title>
      <link href="/posts/bcd0724d.html"/>
      <url>/posts/bcd0724d.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试相关"><a href="#面试相关" class="headerlink" title="面试相关"></a>面试相关</h2><p>前言：基础知识还需要多看视频，书籍等，这些网站都是辅助。</p><p>视频推荐B站上：黑马/动力节点的基础课程</p><p>推荐一个计算机电子书网站：<a href="https://github.com/forthespada/CS-Books">forthespada/CS-Books: 🔥🔥超过1000本的计算机经典书籍、个人笔记资料以及本人在各平台发表文章中所涉及的资源等。书籍资源包括C/C++、Java、Python、Go语言、数据结构与算法、操作系统、后端架构、计算机系统知识、数据库、计算机网络、设计模式、前端、汇编以及校招社招各种面经~ (github.com)</a></p><h3 id="计算机基础"><a href="#计算机基础" class="headerlink" title="计算机基础"></a>计算机基础</h3><p>⭐⭐⭐⭐⭐ <a href="https://xiaolincoding.com/">小林coding (xiaolincoding.com)</a></p><p>⭐⭐⭐⭐ <a href="https://subingwen.cn/">爱编程的大丙 (subingwen.cn)</a></p><p>数据结构可视化：</p><ul><li><p><a href="https://visualgo.net/zh">数据结构和算法动态可视化 (Chinese) - VisuAlgo</a></p></li><li><p><a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualization (usfca.edu)</a></p></li></ul><p>算法刷题 </p><ul><li><p><a href="https://codetop.cc/home">CodeTop企业题库</a></p></li><li><p><a href="https://leetcode.cn/problemset/all/">题库 - 力扣 (LeetCode) 全球极客挚爱的技术成长平台</a></p></li><li><p><a href="https://labuladong.gitee.io/algo/">labuladong 的算法小抄 :: labuladong的算法小抄 (gitee.io)</a>  可能存在部分收费的情况</p></li></ul><h3 id="C-C"><a href="#C-C" class="headerlink" title="C/C++"></a>C/C++</h3><p>⭐⭐⭐⭐⭐ <a href="http://www.stibel.icu/md/guide/guide-overview.html">♥C++ 全栈知识体系 导航地图♥ | C++ 全栈知识体系 (stibel.icu)</a></p><p>⭐⭐⭐⭐ <a href="https://subingwen.cn/">爱编程的大丙 (subingwen.cn)</a></p><p>⭐⭐⭐⭐ <a href="https://interviewguide.cn/">阿秀的学习笔记 (interviewguide.cn)</a></p><p>⭐⭐⭐ <a href="https://interview.huihut.com/#/">interview (huihut.com)</a></p><p>项目：</p><ul><li><p>基础</p><ul><li><p><a href="https://github.com/fixbug666/chatserver">chatserver: 可以工作在nginx tcp负载均衡环境中的集群聊天服务器和客户端源码 基于muduo实现 (github.com)</a></p></li><li><p><a href="https://github.com/huboy-zhao/MyRPC">MyRPC: 基于protobuf、muduo、zookeeper的分布式网络通信框架 (github.com)</a></p></li></ul></li></ul><ul><li><p>进阶</p><ul><li><a href="https://github.com/sylar-yin/sylar">sylar: C++高性能分布式服务器框架,webserver,websocket server,自定义tcp_server（包含日志模块，配置模块，线程模块，协程模块，协程调度模块，io协程调度模块，hook模块，socket模块，bytearray序列化，http模块，TcpServer模块，Websocket模块，Https模块等, Smtp邮件模块, MySQL, SQLite3, ORM,Redis,Zookeeper) (github.com)</a></li></ul></li></ul><h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><p>⭐⭐⭐⭐⭐ <a href="https://www.pdai.tech/">| Java 全栈知识体系 (pdai.tech)</a></p><p>⭐⭐⭐⭐⭐ <a href="https://bugstack.cn/">bugstack 虫洞栈</a></p><p>⭐⭐⭐⭐ <a href="https://cswiki.top/">CS-Wiki (cswiki.top)</a></p><p>项目： 我还没做过😂，就不推荐了</p><h2 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a>人工智能</h2><p>没做过人工智能相关的项目，只写过相关论文，推荐一些看热点文章的网站（<a href="https://scholar.google.com">谷歌学术</a>/<a href="https://arxiv.org/search/cs">预印本</a>就不单独列出了）</p><ul><li><a href="https://www.jiqizhixin.com/columns">专栏 | 机器之心 (jiqizhixin.com)</a></li><li><p><a href="https://www.aminer.cn/">AMiner - AI赋能科技情报挖掘-学术搜索-论文检索-论文专利-文献追踪-学者画像</a></p></li><li><p><a href="https://www.cvmart.net/community">极市开发者社区-高质量视觉算法开发者社区 (cvmart.net)</a></p></li><li><p><a href="https://www.yanxishe.com/">AI研习社 - 研习AI产学研新知，助力AI学术开发者成长。 (yanxishe.com)</a></p></li></ul><h2 id="工具相关"><a href="#工具相关" class="headerlink" title="工具相关"></a>工具相关</h2><ul><li><p>原版软件信息收录站点：<a href="https://msdn.itellyou.cn/">MSDN, 我告诉你 - 做一个安静的工具站 (itellyou.cn)</a></p></li><li><p>各种软件下载：<a href="https://en.taiwebs.com/?lang=CN">Share and Download Free Software - Updated daily (taiwebs.com)</a></p></li><li><p>懂得都懂：<a href="https://github.com/anaer/Sub">anaer/Sub: 节点 (github.com)</a></p></li><li><p>虚拟电话号码：<a href="https://sms-activate.org/">SMS-Activate是在线接受短信的虚拟号码服务</a></p></li><li><p>目前地表最强AI模型：<a href="https://chat.openai.com/">ChatGPT</a></p></li><li><p>AI作画：</p><ul><li><p><a href="https://lexica.art/aperture">Lexica Aperture</a></p></li><li><p><a href="https://beta.dreamstudio.ai/dream">DreamStudio</a></p></li><li><p><a href="https://draft.art/drawing">Draft</a></p></li></ul></li></ul><h2 id="其他（太强了）"><a href="#其他（太强了）" class="headerlink" title="其他（太强了）"></a>其他（太强了）</h2><ul><li><p><a href="https://www.sjsdh.cn/">搜奇导航 | 专注于分享简单实用的网址导航 (sjsdh.cn)</a></p></li><li><p><a href="https://www.iiice.cn/#/">下次一定 - 专门为白嫖怪开发的宝藏网站 (iiice.cn)</a></p></li><li><a href="https://lkssite.vip/">LKs - 良心到难以置信的网站推荐 (lkssite.vip)</a></li><li>壁纸：<a href="https://wallhaven.cc/">wallhaven</a></li><li>复古小游戏：<a href="https://www.yikm.net/">小霸王，其乐无穷 。红白机，FC在线游戏，街机游戏，街机在线，NES games，NES games online，Super Mario (yikm.net)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Site </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>This a Hexo Demo</title>
      <link href="/posts/d3761ba4.html"/>
      <url>/posts/d3761ba4.html</url>
      
        <content type="html"><![CDATA[<h2 id="快速搭建自己的博客参考下面链接"><a href="#快速搭建自己的博客参考下面链接" class="headerlink" title="快速搭建自己的博客参考下面链接"></a>快速搭建自己的博客参考下面链接</h2><p><a href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程 - 知乎 (zhihu.com)</a></p><h2 id="配置图床使用阿里云OSS-PicGo"><a href="#配置图床使用阿里云OSS-PicGo" class="headerlink" title="配置图床使用阿里云OSS + PicGo"></a>配置图床使用阿里云OSS + PicGo</h2><p><a href="https://www.aliyun.com/product/oss">对象存储 OSS<em>云存储服务</em>企业数据管理_存储-阿里云 (aliyun.com)</a></p><p><a href="https://github.com/Molunerfinn/PicGo/releases">Releases · Molunerfinn/PicGo (github.com)</a></p><p><a href="https://blog.csdn.net/weixin_43571641/article/details/126534731">阿里云OSS图床搭建教程_阿里云图床_Luckysec的博客-CSDN博客</a></p><h2 id="以下都是测试，无实际意义"><a href="#以下都是测试，无实际意义" class="headerlink" title="以下都是测试，无实际意义"></a>以下都是测试，无实际意义</h2><h3 id="代码样式测试"><a href="#代码样式测试" class="headerlink" title="代码样式测试"></a>代码样式测试</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    std::sout &lt;&lt; <span class="string">&quot;hello world&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="标签外挂测试"><a href="#标签外挂测试" class="headerlink" title="标签外挂测试"></a>标签外挂测试</h3><h4 id="test1"><a href="#test1" class="headerlink" title="test1"></a>test1</h4><div class="gallery-group-main">    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/wallhaven.png" alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">壁纸</div>  <p>收藏的一些壁纸</p>  <a href="https://wallhaven.cc"></a>  </figcaption>  </figure>  </div><h4 id="test2-3"><a href="#test2-3" class="headerlink" title="test2/3"></a>test2/3</h4><div class="tabs" id="test"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test-1">test 1</button></li><li class="tab"><button type="button" data-href="#test-2">test 2</button></li><li class="tab"><button type="button" data-href="#test-3">test 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test-1"><p>哪个英文字母最酷？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看答案  </button><span class="hide-content">因为西装裤(C装酷)</span>&lt;/span&gt;</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test-2"><p>查看答案</p><div class="hide-block"><button type="button" class="hide-button" style>查看答案    </button><div class="hide-content"><p>傻子，怎么可能有答案</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test-3"><details class="toggle"><summary class="toggle-button" style>Butterfly安装方法</summary><div class="toggle-content"><p>在你的博客根目录里<br>git clone -b master <a href="https://github.com/jerryc127/hexo-theme-butterfly.git">https://github.com/jerryc127/hexo-theme-butterfly.git</a> themes/Butterfly<br>如果想要安装比较新的dev分支，可以<br>git clone -b dev <a href="https://github.com/jerryc127/hexo-theme-butterfly.git">https://github.com/jerryc127/hexo-theme-butterfly.git</a> themes/Butterfly</p></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="test4"><a href="#test4" class="headerlink" title="test4"></a>test4</h4><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie    title Key elements in Product X    &quot;Calcium&quot; : 42.96    &quot;Potassium&quot; : 50.05    &quot;Magnesium&quot; : 10.01    &quot;Iron&quot; :  5  </pre></div><h4 id="test5"><a href="#test5" class="headerlink" title="test5"></a>test5</h4><p>这是我的网站, 点击这个按钮 <a class="btn-beautify green larger" href="https://ysxnote.cn" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a></p><h4 id="test6"><a href="#test6" class="headerlink" title="test6"></a>test6</h4><p>你看我长得漂亮不</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/beautiful.jpg" alt></p><p>我觉得很漂亮 <img class="inline-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ysxnote.oss-cn-hangzhou.aliyuncs.com/imgs/posts/youAreBeautiful.png" style="height:150px"></p><h4 id="test7"><a href="#test7" class="headerlink" title="test7"></a>test7</h4><p>臣亮言：<mark class="hl-label default">先帝</mark> 创业未半，而<mark class="hl-label blue">中道崩殂</mark> 。今天下三分，<mark class="hl-label pink">益州疲敝</mark> ，此诚<mark class="hl-label red">危急存亡之秋</mark> 也！然侍衞之臣，不懈于内；<mark class="hl-label purple">忠志之士</mark> ，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。<br>宫中、府中，俱为一体；陟罚臧否，不宜异同。若有<mark class="hl-label orange">作奸</mark> 、<mark class="hl-label green">犯科</mark> ，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</p><h4 id="test8"><a href="#test8" class="headerlink" title="test8"></a>test8</h4><div class="timeline green"><div class="timeline-item headline"><div class="timeline-item-title"><div class="item-circle"><p>2023</p></div></div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>04-10</p></div></div><div class="timeline-item-content"><p>这是测试页面</p></div></div></div><h4 id="test9"><a href="#test9" class="headerlink" title="test9"></a>test9</h4><div class="note no-icon simple"><p>默认 提示块标签</p></div><div class="note default no-icon simple"><p>default 提示块标签</p></div><div class="note primary no-icon simple"><p>primary 提示块标签</p></div><div class="note success no-icon simple"><p>success 提示块标签</p></div><div class="note info no-icon simple"><p>info 提示块标签</p></div><div class="note warning no-icon simple"><p>warning 提示块标签</p></div><div class="note danger no-icon simple"><p>danger 提示块标签</p></div><p>=====</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><p>=====</p><div class="note no-icon simple"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon simple"><p>2021年快到了….</p></div><div class="note pink no-icon simple"><p>小心开车 安全至上</p></div><div class="note red no-icon simple"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon simple"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon simple"><p>剪刀石头布</p></div><div class="note green no-icon simple"><p>前端最讨厌的浏览器</p></div><p>=====</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>=====</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><h4 id="test10"><a href="#test10" class="headerlink" title="test10"></a>test10</h4><div class="flink"><div class="flink-name">友情链接</div><div class="flink-desc">那些人，那些事</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://jerryc.me/" title="JerryC" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://jerryc.me/img/avatar.png" onerror="this.onerror=null;this.src="/img/friend_404.gif"" alt="JerryC">              </div>              <div class="flink-item-name">JerryC</div>               <div class="flink-item-desc" title="今日事,今日毕">今日事,今日毕</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://hexo.io/zh-tw/" title="Hexo" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror="this.onerror=null;this.src="/img/friend_404.gif"" alt="Hexo">              </div>              <div class="flink-item-name">Hexo</div>               <div class="flink-item-desc" title="快速、简单且强大的网志框架">快速、简单且强大的网志框架</div>            </a>          </div></div><div class="flink-name">网站</div><div class="flink-desc">值得推荐的网站</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://www.youtube.com/" title="Youtube" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png" onerror="this.onerror=null;this.src="/img/friend_404.gif"" alt="Youtube">              </div>              <div class="flink-item-name">Youtube</div>               <div class="flink-item-desc" title="视频网站">视频网站</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.weibo.com/" title="Weibo" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png" onerror="this.onerror=null;this.src="/img/friend_404.gif"" alt="Weibo">              </div>              <div class="flink-item-name">Weibo</div>               <div class="flink-item-desc" title="中国最大社交分享平台">中国最大社交分享平台</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://twitter.com/" title="Twitter" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png" onerror="this.onerror=null;this.src="/img/friend_404.gif"" alt="Twitter">              </div>              <div class="flink-item-name">Twitter</div>               <div class="flink-item-desc" title="社交分享平台">社交分享平台</div>            </a>          </div></div></div>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>